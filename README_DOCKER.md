# ü§ñ AntiBars Telegram Bot - Docker Deployment

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ Telegram –±–æ—Ç–∞ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ?

- ‚úÖ **Dockerfile** ‚Äì –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **docker-compose.yml** ‚Äì –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (volumes, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- ‚úÖ **requirements.txt** ‚Äì –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- ‚úÖ **DEPLOYMENT_GUIDE.md** ‚Äì –ø–æ–ª–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ **FAQ_DOCKER.md** ‚Äì —Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **docker_commands_reference.sh** ‚Äì —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
- ‚úÖ **QUICK_START.sh** ‚Äì –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ /opt
cd /opt && mkdir antibars-bot && cd antibars-bot

# 2. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ –∏–ª–∏ –∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã
git clone https://github.com/—Ç–≤–æ–π-—é–∑–µ—Ä/HammonDDDDD.git .

# 3. –ì–æ—Ç–æ–≤–∏–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã
mkdir -p data logs
cp lab4/antibars-credentials.json data/
cp lab4/.env.example .env

# 4. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env (–≤—Å—Ç–∞–≤–ª—è–µ–º BOT_TOKEN)
nano .env

# 5. –°–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
docker-compose build
docker-compose up -d

# 6. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker-compose logs -f antibars-bot
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

## üìã –°–∏—Å—Ç–µ–º–∞ —Ñ–∞–π–ª–æ–≤

```
Dockerfile                    # –û–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (Python 3.11 + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
docker-compose.yml            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ (volumes, env, limits)
.dockerignore                 # –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (aiohttp, gspread, etc)
.env.example                  # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

DEPLOYMENT_GUIDE.md           # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (50+ —à–∞–≥–æ–≤)
FAQ_DOCKER.md                 # ‚ùì –û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
DOCKER_STRUCTURE.md           # üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker
docker_commands_reference.sh  # üîß –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
QUICK_START.sh                # ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f antibars-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–æ—Ç–ª–∞–¥–∫–∞)
docker-compose exec antibars-bot bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
docker-compose exec antibars-bot sqlite3 data/bars_db.sqlite ".tables"
```

## üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Docker Compose –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- üîÑ **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ —Å–±–æ–µ (`restart: unless-stopped`)
- üíæ **Volumes** –¥–ª—è –ë–î –∏ credentials (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- üìä **Resource limits** (–º–∞–∫—Å–∏–º—É–º 512MB –ø–∞–º—è—Ç–∏)
- üìù **JSON logging** (—Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤)
- üåê **Docker network** –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
- üì¶ Python 3.11 slim –æ–±—Ä–∞–∑ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä)
- üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `PYTHONUNBUFFERED=1`
- üìÇ –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/app`
- üóÇÔ∏è –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –ø–∞–ø–∫–∏:
  - `/app/data/` ‚Äì –ë–î, credentials
  - `/app/logs/` ‚Äì –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:
‚Üí **QUICK_START.sh** (–∫–æ–º–∞–Ω–¥—ã –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ –æ—á–µ—Ä–µ–¥–∏)

### –î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞:
‚Üí **DEPLOYMENT_GUIDE.md** (–ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏)

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:
‚Üí **FAQ_DOCKER.md** (—Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º)

### –î–ª—è —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º:
‚Üí **docker_commands_reference.sh** (–ø—Ä–∏–º–µ—Ä—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è)

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
‚Üí **DOCKER_STRUCTURE.md** (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤)

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- **Docker** (20.10+)
- **Docker Compose** (2.0+)
- **Linux** (Ubuntu, Debian, CentOS, etc.)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker (Ubuntu/Debian):
```bash
curl -fsSL https://get.docker.com | sudo sh
sudo apt-get install docker-compose
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
docker-compose ps
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
docker stats antibars-bot
```

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
docker-compose logs -f antibars-bot
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **Credentials –∑–∞—â–∏—â–µ–Ω—ã:**
- `antibars-credentials.json` –≤ `/app/data/` (read-only mount)
- `.env` –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã –≤ –∫–æ–¥–µ

‚úÖ **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω:**
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ä–µ—Å—É—Ä—Å—ã (512MB –ø–∞–º—è—Ç–∏)
- –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç?
```bash
docker-compose logs antibars-bot
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
```

### –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Sheets?
```bash
docker-compose exec antibars-bot ls -la data/antibars-credentials.json
# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞ –º–µ—Å—Ç–µ
```

### –ë–î –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ –ø–∏—Å–∞—Ç—å?
```bash
docker-compose exec antibars-bot rm data/bars_db.sqlite
docker-compose restart
# –ë–î –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

‚Üí **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** —Å–º–æ—Ç—Ä–∏ **FAQ_DOCKER.md**

## üìà –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

```bash
# –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git pull

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
docker-compose build --no-cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
docker-compose restart

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker-compose logs -f antibars-bot
```

## üíæ Backup

```bash
# –°–æ–∑–¥–∞—ë–º backup –ë–î
docker-compose exec antibars-bot cp data/bars_db.sqlite data/backup.sqlite

# –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
scp user@server.com:/opt/antibars-bot/data/backup.sqlite ./
```

## üéØ –¢–∏–ø–∏—á–Ω—ã–π workflow

```bash
# –î–µ–Ω—å 1: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π
docker-compose build
docker-compose up -d
docker-compose logs -f antibars-bot

# –î–µ–Ω—å 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –î–µ–Ω—å 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull && docker-compose build && docker-compose restart

# –î–µ–Ω—å 4: Backup –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º –∞–ø–¥–µ–π—Ç–æ–º
docker-compose exec antibars-bot cp data/bars_db.sqlite data/backup.sqlite
```

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ!)
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —á–µ—Ä–µ–∑ Prometheus/Grafana
3. **CI/CD** —á–µ—Ä–µ–∑ GitHub Actions
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–ª–∏–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

‚Üí –°–º–æ—Ç—Ä–∏ **FAQ_DOCKER.md** –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ—á–∏—Ç–∞–π DEPLOYMENT_GUIDE.md** ‚Äì —Ç–∞–º –µ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 90% –ø—Ä–æ–±–ª–µ–º
2. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:** `docker-compose logs antibars-bot`
3. **–°–º–æ—Ç—Ä–∏ FAQ_DOCKER.md** ‚Äì —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π docker-compose exec** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–∞–∫ —É–≥–æ–¥–Ω–æ! üéâ

---

**–°–¥–µ–ª–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –ò–¢–ú–û.** –£–¥–∞—á–∏ —Å –±–æ—Ç–æ–º! üöÄ
