# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Docker –¥–µ–ø–ª–æ—è

```
/opt/antibars-bot/          # –ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Dockerfile              # –û–±—Ä–∞–∑ –¥–ª—è Docker
‚îú‚îÄ‚îÄ docker-compose.yml      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îú‚îÄ‚îÄ .dockerignore            # –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
‚îú‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä .env (–≤ —Ä–µ–ø–æ)
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ DEPLOYMENT_GUIDE.md      # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ lab4/                    # –¢–≤–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ async_bot.py         # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ constants.py         # –ö–æ–Ω—Ñ–∏–≥–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ bars_db.py           # –†–∞–±–æ—Ç–∞ —Å SQLite –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ bars_watcher.py      # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Google Sheets
‚îÇ   ‚îú‚îÄ‚îÄ google_sheets_client.py
‚îÇ   ‚îî‚îÄ‚îÄ sync_bot.py          # (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îÇ
‚îú‚îÄ‚îÄ data/                    # –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (volume)
‚îÇ   ‚îú‚îÄ‚îÄ antibars-credentials.json   # Google Sheets API
‚îÇ   ‚îî‚îÄ‚îÄ bars_db.sqlite              # SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞—Å—Ç—Å—è —Å–∞–º–∞)
‚îÇ
‚îî‚îÄ‚îÄ logs/                    # –õ–æ–≥–∏ (volume)
    ‚îî‚îÄ‚îÄ bot.log             # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## üîë –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ Docker –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

### Dockerfile
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
- –ö–æ–ø–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª `lab4.async_bot`

### docker-compose.yml
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç volumes –¥–ª—è –ë–î –∏ –∫—Ä–µ–¥–µ–Ω—Ç—à–∞–ª–æ–≤
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ

### .env —Ñ–∞–π–ª
```
BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
PYTHONUNBUFFERED=1
```
**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø–æ–ª–Ω–∏ —Å–≤–æ–π —Ç–æ–∫–µ–Ω!**

### requirements.txt
```
aiohttp==3.8.5
gspread==5.11.3
google-auth-oauthlib==1.1.0
google-auth==2.25.2
beautifulsoup4==4.12.2
requests==2.31.0
```
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –æ–±—Ä–∞–∑–∞.

## üì§ –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt
git clone https://github.com/—Ç–≤–æ–π-—é–∑–µ—Ä/HammonDDDDD.git antibars-bot
cd antibars-bot/lab4
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SCP
```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
scp -r ./lab4 user@server.com:/opt/antibars-bot/

# –ó–∞—Ç–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∫–æ–ø–∏—Ä—É–µ—à—å —ç—Ç–∏ —Ñ–∞–π–ª—ã –≤ lab4:
cd /opt/antibars-bot
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –∞—Ä—Ö–∏–≤
```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
tar -czf antibars-bot.tar.gz lab4/

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º
scp antibars-bot.tar.gz user@server.com:/opt/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt
tar -xzf antibars-bot.tar.gz
mv lab4 antibars-bot
cd antibars-bot
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /opt/antibars-bot

# 2. –°–æ–∑–¥–∞—ë–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p data logs

# 3. –ö–æ–ø–∏—Ä—É–µ–º credentials
cp antibars-credentials.json data/

# 4. –°–æ–∑–¥–∞—ë–º .env
cp .env.example .env
nano .env  # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º, –≤—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω

# 5. –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
docker-compose build

# 6. –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d

# 7. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker-compose logs -f antibars-bot

# 8. –ì–æ—Ç–æ–≤–æ!
```

## üéØ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

1. Docker —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –∏–∑ Dockerfile
2. –°–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Python 3.11
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt
4. –ö–æ–ø–∏—Ä—É–µ—Ç –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
5. –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç volumes –¥–ª—è data/ –∏ logs/
6. –ó–∞–ø—É—Å–∫–∞–µ—Ç `python -m lab4.async_bot`
7. –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Telegram API
8. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç SQLite –ë–î
9. –ù–∞—á–∏–Ω–∞–µ—Ç polling –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram
10. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤—ã–π —Ç–∞—Å–∫ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Google Sheets

## ‚úÖ –ü—Ä–∏–∑–Ω–∞–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```bash
$ docker-compose logs antibars-bot
...
Async echo bot started
–ë–î –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
BARS watcher –∑–∞–ø—É—â–µ–Ω (–∏–Ω—Ç–µ—Ä–≤–∞–ª: 30s)
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–∞–∫–∏–µ –ª–æ–≥–∏ ‚Äì –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ
